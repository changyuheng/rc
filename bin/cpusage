#!/usr/bin/env bash
# Author: Andrew Chen <yongjhih@gmail.com>
# CC, Creative Commons
# Author: Andrew Chen <yongjhih@gmail.com>
# CC, Creative Commons
#cpu  94411445 62956066 83070624 437653478 3645395 107673 146889 0 0
#cpu0 22707053 20878712 25761772 100459995 948167 22592 28248 0 0
#cpu1 22592864 18340892 23719849 103325431 947808 37855 32235 0 0
#cpu2 23840755 13822524 18625800 113060603 850558 30763 19897 0 0
#cpu3 25270772 9913937 14963201 120807448 898861 16462 66506 0 0
#intr 3093470391 5521 2 0 0 2 0 0 0 1 0 0 0 4 0 20767381 25052806 29785264 0 672124 0 0 0 0 19743825 0 0 18131650 14686340 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
#ctxt 8227292385
#btime 1293762832
#processes 3904663
#procs_running 8
#procs_blocked 0
#softirq 3217153579 0 1290750731 6023155 16642542 25756355 0 3578824 601862264 3787694 1268752014

TOTAL=(s1 s2)
IDLE=(s1 s2)
for i in {0..1}; do
	while read CPU USER NICE SYSTEM IDLE IOWAIT IRQ SOFTIRQ CUTIME CSTIME; do
		if [[ ! "$CPU" =~ ^cpu ]]; then
			continue
		fi
		TOTAL[$i]=$((${TOTAL[$i]} + $USER + $NICE + $SYSTEM + $IDLE + $IOWAIT + $IRQ + $SOFTIRQ))
	done
	sleep 1
done

echo $TOTAL[0]
echo $TOTAL[1]
#TOTAL_IDLE=$(($TOTAL_IDLE + $IDLE))
#echo $(( 100 * $TOTAL  - $TOTAL_IDLE) / $TOTAL))

